:toc: 
:sectlinks:


[[rest_server_documentation]]
= REST server documentation

[[introduction]]
== Introduction

This REST API documentation draws inspiration from https://spring.io/projects/spring-restdocs[Spring Boot's guide for documenting RESTful APIs,role=external,window=_blank]. The HTTP requests and responses for our resources below are autogenerated using Spring REST docs. We have aditionally manually added descriptions where we deem it necessary.

[[http_verbs]]
== HTTP verbs

These RESTful notes tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP verbs.

|===
| Verb | Usage

| `GET`
| Used to retrieve a resource.

| `POST`
| Used to create a new resource.

| `PUT`
| Used to create a new resource or update an existing resource with the provided payload.

| `DELETE`
| Used to delete an existing resource.
|===

[[http_status_codes]]
== HTTP status codes

The `cognition` project's RESTful notes adheres to standard HTTP and REST conventions in its use of HTTP status codes.

Please note that `cognition` does not use variations of `OK` status codes, but rather only `200 OK`.

|===
| Status code | Usage

| `200 OK`
| The request completed successfully. This includes `GET`, `POST`, `PUT` and `DELETE` requests.

| `400 Bad Request`
| The request was malformed. The response body will include an error providing further information.

| `404 Not Found`
| The requested resource did not exist.

| `409 Conflict`
| The request conflicted with the current state of the target resource.
|===

[[errors]]
== Errors

=== Users

==== 409 when posting user with conflicting identifier

Assume that a `User` object with the identifier `test-username` already exists.

===== Request

include::expect409WhenPostingUserWithConflictingIdentifier/http-request.adoc[]

===== Response

include::expect409WhenPostingUserWithConflictingIdentifier/http-response.adoc[]

=== Quizzes

==== 404 when getting quiz by invalid identifier

Try to fetch a quiz by identifier `thisIsNotAUuid` that does not exist.

===== Request

include::expect404WhenGettingQuizByInvalidUuid/http-request.adoc[]

===== Response

include::expect404WhenGettingQuizByInvalidUuid/http-response.adoc[]

==== 409 when creating quiz with conflicting identifier

Assume that a `Quiz` object with the identifier `9f6c96cc-6a70-46bc-8f69-31b2ebd661cd` already exists.

include::expect409WhenCreatingQuizWithConflictingUuid/http-request.adoc[]

===== Response

include::expect409WhenCreatingQuizWithConflictingUuid/http-response.adoc[]

[[resources]]
== Resources

=== Users

[[getting_users]]
==== Getting users

===== Request

include::expect200WhenGettingUsers/http-request.adoc[]

===== Response

include::expect200WhenGettingUsers/http-response.adoc[]

[[get_user_by_username]]
==== Get user by username

===== Request

include::expect200WhenGettingUserByUsername/http-request.adoc[]

===== Response

include::expect200WhenGettingUserByUsername/http-response.adoc[]

[[create_user]]
==== Create user

===== Request

include::expect200WhenPostingUser/http-request.adoc[]

===== Response

include::expect200WhenPostingUser/http-response.adoc[]

[[update_user]]
==== Update user

===== Request

include::expect200WhenUpdatingUser/http-request.adoc[]

===== Response

include::expect200WhenUpdatingUser/http-response.adoc[]

[[delete_user]]
==== Delete user

===== Request

include::expect200WhenDeletingUser/http-request.adoc[]

===== Response

include::expect200WhenDeletingUser/http-response.adoc[]

=== Quizzes

[[get_quizzes_by_username]]
==== Get quizzes by username

===== Request

include::expect200WhenGettingQuizzesByUsername/http-request.adoc[]

===== Response

include::expect200WhenGettingQuizzesByUsername/http-response.adoc[]

[[get_quiz_by_uuid]]
==== Get quiz by uuid

===== Request

include::expect200WhenGettingQuizByUuid/http-request.adoc[]

===== Response

include::expect200WhenGettingQuizByUuid/http-response.adoc[]

[[create_quiz]]
==== Create quiz

===== Request

include::expect200WhenCreatingQuizByUsername/http-request.adoc[]

===== Response

include::expect200WhenCreatingQuizByUsername/http-response.adoc[]

[[update_quiz_by_uuid]]
==== Update quiz by UUID

===== Request

include::expect200WhenUpdatingQuizByUuid/http-request.adoc[]

===== Response

include::expect200WhenUpdatingQuizByUuid/http-response.adoc[]

[[delete_quiz_by_uuid]]
==== Delete quiz by UUID

===== Request

include::expect200WhenDeletingQuizByUuid/http-request.adoc[]

===== Response

include::expect200WhenDeletingQuizByUuid/http-response.adoc[]